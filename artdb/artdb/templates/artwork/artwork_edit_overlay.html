{% load static %}
{{ form.media }}

<form method="POST" enctype="multipart/form-data" class="editform" action="/artwork/{{id}}/edit_overlay.html">
{% csrf_token %}
<div class="content">
    <div class="image-wrapperA">
        <div class="image-wrapperB">
            <img class="image-big" src="{{imageOriginal.thumbnail.930x768}}"/>
            <div class="image-wrapperC">
                    {{ form.imageOriginal.label_tag }}
                    {{ form.imageOriginal }}
                    {{ form.imageOriginal.errors }}
            </div>  
        </div>
    </div>
</div>

<div class="sidebar-attached">
    <div class="confirmationarea">
        <button name="cancel" class="inspector-button cancel" id="hideoverlay" onClick="hideEditOverlay()">Cancel</button><button class="inspector-button confirm" type="submit">Save</button>
    </div>
    {% spaceless %}
    <div class="metadataarea">
        <div>
            {{ form.title.errors }}
            {{ form.title.label_tag }}
            {{ form.title }}
        </div>
        <div>
            {{ form.artists.errors }}
            {{ form.artists.label_tag }}
            {{ form.artists }}
        </div>
        <div>
            <div class="input-medium">
                {{ form.date.errors }}
                {{ form.date.label_tag }}
                {{ form.date }}
            </div>
            <div class="input-small">
                {{ form.dateYearFrom.errors }}
                {{ form.dateYearFrom.label_tag }}
                {{ form.dateYearFrom }}
            </div>
            <div class="input-small">
                {{ form.dateYearTo.errors }}
                {{ form.dateYearTo.label_tag }}
                {{ form.dateYearTo }}
            </div>
        </div>
        <div>
            {{ form.material.errors }}
            {{ form.material.label_tag }}
            {{ form.material }}
        </div>
        <div>
            {{ form.dimensions.errors }}
            {{ form.dimensions.label_tag }}
            {{ form.dimensions }}
        </div>
        <div>
            {{ form.locationOfCreation.errors }}
            {{ form.locationOfCreation.label_tag }}
            {{ form.locationOfCreation }}
        </div>
        <div>
            {{ form.credits.errors }}
            {{ form.credits.label_tag }}
            {{ form.credits }}
        </div>
    </div>
    {% endspaceless %}
</div>
</form>

<script type='text/javascript'>
$(document).ready(function() {

    var reader = new FileReader();
    reader.onload = function (e) {
        $('.image-big').attr('src', e.target.result);
    }
   
    function readURL(input) {
        if (input.files && input.files[0]) {
            console.log(input.files[0]);
            reader.readAsDataURL(input.files[0]);
        }
    }
    
    $('.imageselector').change(function() {
        readURL(this);
    });
});
</script>
<script src="{% static 'js/artwork_form.js' %}"></script>